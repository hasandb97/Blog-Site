@model PagedList.IPagedList<MyBlog.Models.TBL_Posts>

@{
    ViewBag.Title = "ShowAllPostList";
    Layout = "~/Views/Shared/_LayoutHeadFoot.cshtml";
}
@using PagedList.Mvc


<div class="container" style="margin-top:50px;">
    <h3 style="text-align:center;font-weight:bold;margin-bottom:50px;">مدیریت پست های منتشر شده</h3>


    <table class="table table-striped" style="margin-top:80px;margin-bottom:100px;">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">نویسنده</th>
                <th scope="col">عنوان پست</th>
                <th scope="col"> وضعیت انتشار</th>
                <th scope="col">تاریخ نوشته</th>
                <th scope="col">کامنت</th>
                <th scope="col">حذف</th>
                <th scope="col">تغییروضعیت کامنت</th>
                <th scope="col">لغو انتشار</th>
                <th scope="col">مشاهده کامل</th>
            </tr>
        </thead>
        @foreach (var test in Model)
        {
            <tbody>
                <tr>
                    <td style="font-weight:bold;">@test.Post_ID</td>
                    <td style="font-weight:bold;">@test.Admin_ID</td>

                    <td style="font-weight:bold;">@test.Post_Title</td>

                    @if (@test.Post_Status == 0)
                    {
                        string Stat = "در حال بررسی";
                        <td style="font-weight:bold;">@Stat</td>
                    }
                    else if (@test.Post_Status == 1)
                    {
                        string Stat = "منتشر شده";
                        <td style="font-weight:bold;">@Stat</td>
                    }

                    <td>@test.Post_Date</td>
                    @if (test.Post_CommentStatus == 1)
                    {
                        string CommentStat = "باز";
                        <td style="font-weight:bold;">@CommentStat</td>
                    }
                    else
                    {
                        string CommentStat = "بسته";
                        <td style="font-weight:bold;">@CommentStat</td>
                    }
                    <td>@Html.ActionLink("حذف", "DeleteUser", "Admin", new { id = @test.Post_ID }, new { @class = "btn alert-danger" })</td>
                    <td>@Html.ActionLink("تغییر وضعیت", "CommentStatus", "Post", new { id = @test.Post_ID }, new { @class = "btn alert-success" })</td>
                    <td>@Html.ActionLink("لغو انتشار", "UnPublishPost", "Post", new { id = @test.Post_ID }, new { @class = "btn alert-danger" })</td>
                    <td>@Html.ActionLink("مشاهده کامل", "ShowPostToAdmin", "Post", new { id = @test.Post_ID }, new { @class = "btn alert-info" })</td>

                </tr>

            </tbody>
        }
    </table><br />
    @Html.PagedListPager(Model, page => Url.Action("ShowPublishedPostList", new { page, pageSize = Model.PageSize }))


</div>